<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculates feature importance using a trained model and test data. Requires
the future.apply package."><title>Get feature importance using the permutation method — get_feature_importance • mikropml</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get feature importance using the permutation method — get_feature_importance"><meta property="og:description" content="Calculates feature importance using a trained model and test data. Requires
the future.apply package."><meta property="og:image" content="http://www.schlosslab.org/mikropml/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mikropml</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.6.0.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Paper</h6>
    <a class="dropdown-item" href="../articles/paper.html">mikropml: User-Friendly R Package for Supervised Machine Learning Pipelines</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Vignettes</h6>
    <a class="dropdown-item" href="../articles/introduction.html">Introduction to mikropml</a>
    <a class="dropdown-item" href="../articles/preprocess.html">Preprocessing data</a>
    <a class="dropdown-item" href="../articles/tuning.html">Hyperparameter tuning</a>
    <a class="dropdown-item" href="../articles/parallel.html">Parallel processing</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/SchlossLab/mikropml/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get feature importance using the permutation method</h1>
      <small class="dont-index">Source: <a href="https://github.com/SchlossLab/mikropml/blob/HEAD/R/feature_importance.R" class="external-link"><code>R/feature_importance.R</code></a></small>
      <div class="d-none name"><code>get_feature_importance.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates feature importance using a trained model and test data. Requires
the <code>future.apply</code> package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_feature_importance</span><span class="op">(</span></span>
<span>  <span class="va">trained_model</span>,</span>
<span>  <span class="va">test_data</span>,</span>
<span>  <span class="va">outcome_colname</span>,</span>
<span>  <span class="va">perf_metric_function</span>,</span>
<span>  <span class="va">perf_metric_name</span>,</span>
<span>  <span class="va">class_probs</span>,</span>
<span>  <span class="va">method</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  corr_thresh <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  groups <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nperms <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  corr_method <span class="op">=</span> <span class="st">"spearman"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>trained_model</dt>
<dd><p>Trained model from <code><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">caret::train()</a></code>.</p></dd>


<dt>test_data</dt>
<dd><p>Held out test data: dataframe of outcome and features.</p></dd>


<dt>outcome_colname</dt>
<dd><p>Column name as a string of the outcome variable
(default <code>NULL</code>; the first column will be chosen automatically).</p></dd>


<dt>perf_metric_function</dt>
<dd><p>Function to calculate the performance metric to
be used for cross-validation and test performance. Some functions are
provided by caret (see <code><a href="https://rdrr.io/pkg/caret/man/postResample.html" class="external-link">caret::defaultSummary()</a></code>).
Defaults: binary classification = <code>twoClassSummary</code>,
multi-class classification = <code>multiClassSummary</code>,
regression = <code>defaultSummary</code>.</p></dd>


<dt>perf_metric_name</dt>
<dd><p>The column name from the output of the function
provided to perf_metric_function that is to be used as the performance metric.
Defaults: binary classification = <code>"ROC"</code>,
multi-class classification = <code>"logLoss"</code>,
regression = <code>"RMSE"</code>.</p></dd>


<dt>class_probs</dt>
<dd><p>Whether to use class probabilities (TRUE for categorical outcomes, FALSE for numeric outcomes).</p></dd>


<dt>method</dt>
<dd><p>ML method.
Options: <code>c("glmnet", "rf", "rpart2", "svmRadial", "xgbTree")</code>.</p><ul><li><p>glmnet: linear, logistic, or multiclass regression</p></li>
<li><p>rf: random forest</p></li>
<li><p>rpart2: decision tree</p></li>
<li><p>svmRadial: support vector machine</p></li>
<li><p>xgbTree: xgboost</p></li>
</ul></dd>


<dt>seed</dt>
<dd><p>Random seed (default: <code>NA</code>).
Your results will only be reproducible if you set a seed.</p></dd>


<dt>corr_thresh</dt>
<dd><p>For feature importance, group correlations
above or equal to <code>corr_thresh</code> (range <code>0</code> to <code>1</code>; default: <code>1</code>).</p></dd>


<dt>groups</dt>
<dd><p>Vector of feature names to group together during permutation.
Each element should be a string with feature names separated by a pipe
character (<code>|</code>). If this is <code>NULL</code> (default), correlated features will be
grouped together based on <code>corr_thresh</code>.</p></dd>


<dt>nperms</dt>
<dd><p>number of permutations to perform (default: <code>100</code>).</p></dd>


<dt>corr_method</dt>
<dd><p>correlation method. options or the same as those supported
by <code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">stats::cor</a></code>: spearman, pearson, kendall. (default: spearman)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Data frame with performance metrics for when each feature (or group
of correlated features; <code>feat</code>) is permuted (<code>perf_metric</code>), differences
between the actual test performance metric on and the permuted performance
metric (<code>perf_metric_diff</code>; test minus permuted performance), and the
p-value (<code>pvalue</code>: the probability of obtaining the actual performance
value under the null hypothesis). Features with a larger <code>perf_metric_diff</code></p>


<p>are more important. The performance metric name (<code>perf_metric_name</code>) and
seed (<code>seed</code>) are also returned.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For permutation tests, the p-value is the number of permutation statistics
that are greater than the test statistic, divided by the number of
permutations. In our case, the permutation statistic is the model performance
(e.g. AUROC) after randomizing the order of observations for one feature, and
the test statistic is the actual performance on the test data. By default we
perform 100 permutations per feature; increasing this will increase the
precision of estimating the null distribution, but also increases runtime.
The p-value represents the probability of obtaining the actual performance in
the event that the null hypothesis is true, where the null hypothesis is that
the feature is not important for model performance.</p>
<p>We strongly recommend providing multiple cores to speed up computation time.
See <a href="http://www.schlosslab.org/mikropml/articles/parallel.html">our vignette on parallel processing</a>
for more details.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Begüm Topçuoğlu, <a href="mailto:topcuoglu.begum@gmail.com">topcuoglu.begum@gmail.com</a></p>
<p>Zena Lapp, <a href="mailto:zenalapp@umich.edu">zenalapp@umich.edu</a></p>
<p>Kelly Sovacool, <a href="mailto:sovacool@umich.edu">sovacool@umich.edu</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># If you called `run_ml()` with `feature_importance = FALSE` (the default),</span></span></span>
<span class="r-in"><span><span class="co"># you can use `get_feature_importance()` later as long as you have the</span></span></span>
<span class="r-in"><span><span class="co"># trained model and test data.</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="run_ml.html">run_ml</a></span><span class="op">(</span><span class="va">otu_small</span>, <span class="st">"glmnet"</span>, kfold <span class="op">=</span> <span class="fl">2</span>, cv_times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">trained_model</span><span class="op">$</span><span class="va">trainingData</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"dx"</span></span></span>
<span class="r-in"><span><span class="va">feat_imp</span> <span class="op">&lt;-</span> <span class="fu">get_feature_importance</span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">trained_model</span>,</span></span>
<span class="r-in"><span>  <span class="va">results</span><span class="op">$</span><span class="va">trained_model</span><span class="op">$</span><span class="va">trainingData</span>,</span></span>
<span class="r-in"><span>  <span class="va">results</span><span class="op">$</span><span class="va">test_data</span>,</span></span>
<span class="r-in"><span>  <span class="st">"dx"</span>,</span></span>
<span class="r-in"><span>  <span class="va">multiClassSummary</span>,</span></span>
<span class="r-in"><span>  <span class="st">"AUC"</span>,</span></span>
<span class="r-in"><span>  class_probs <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"glmnet"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We strongly recommend providing multiple cores to speed up computation time.</span></span></span>
<span class="r-in"><span><span class="co"># Do this before calling `get_feature_importance()`.</span></span></span>
<span class="r-in"><span><span class="fu">doFuture</span><span class="fu">::</span><span class="fu"><a href="https://doFuture.futureverse.org/reference/registerDoFuture.html" class="external-link">registerDoFuture</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">future</span><span class="fu">::</span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="fu">future</span><span class="fu">::</span><span class="va"><a href="https://future.futureverse.org/reference/multicore.html" class="external-link">multicore</a></span>, workers <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Optionally, you can group features together with a custom grouping</span></span></span>
<span class="r-in"><span><span class="va">feat_imp</span> <span class="op">&lt;-</span> <span class="fu">get_feature_importance</span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">trained_model</span>,</span></span>
<span class="r-in"><span>  <span class="va">results</span><span class="op">$</span><span class="va">trained_model</span><span class="op">$</span><span class="va">trainingData</span>,</span></span>
<span class="r-in"><span>  <span class="va">results</span><span class="op">$</span><span class="va">test_data</span>,</span></span>
<span class="r-in"><span>  <span class="st">"dx"</span>,</span></span>
<span class="r-in"><span>  <span class="va">multiClassSummary</span>,</span></span>
<span class="r-in"><span>  <span class="st">"AUC"</span>,</span></span>
<span class="r-in"><span>  class_probs <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"glmnet"</span>,</span></span>
<span class="r-in"><span>  groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Otu00007"</span>, <span class="st">"Otu00008"</span>, <span class="st">"Otu00009"</span>, <span class="st">"Otu00011"</span>, <span class="st">"Otu00012"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00015"</span>, <span class="st">"Otu00016"</span>, <span class="st">"Otu00018"</span>, <span class="st">"Otu00019"</span>, <span class="st">"Otu00020"</span>, <span class="st">"Otu00022"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00023"</span>, <span class="st">"Otu00025"</span>, <span class="st">"Otu00028"</span>, <span class="st">"Otu00029"</span>, <span class="st">"Otu00030"</span>, <span class="st">"Otu00035"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00036"</span>, <span class="st">"Otu00037"</span>, <span class="st">"Otu00038"</span>, <span class="st">"Otu00039"</span>, <span class="st">"Otu00040"</span>, <span class="st">"Otu00047"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00050"</span>, <span class="st">"Otu00052"</span>, <span class="st">"Otu00054"</span>, <span class="st">"Otu00055"</span>, <span class="st">"Otu00056"</span>, <span class="st">"Otu00060"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00003|Otu00002|Otu00005|Otu00024|Otu00032|Otu00041|Otu00053"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00014|Otu00021|Otu00017|Otu00031|Otu00057"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00013|Otu00006"</span>, <span class="st">"Otu00026|Otu00001|Otu00034|Otu00048"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00033|Otu00010"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00042|Otu00004"</span>, <span class="st">"Otu00043|Otu00027|Otu00049"</span>, <span class="st">"Otu00051|Otu00045"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Otu00058|Otu00044"</span>, <span class="st">"Otu00059|Otu00046"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># the function can show a progress bar if you have the `progressr` package installed.</span></span></span>
<span class="r-in"><span><span class="co">## optionally, specify the progress bar format:</span></span></span>
<span class="r-in"><span><span class="fu">progressr</span><span class="fu">::</span><span class="fu"><a href="https://progressr.futureverse.org/reference/handlers.html" class="external-link">handlers</a></span><span class="op">(</span><span class="fu">progressr</span><span class="fu">::</span><span class="fu"><a href="https://progressr.futureverse.org/reference/handler_progress.html" class="external-link">handler_progress</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  format <span class="op">=</span> <span class="st">":message :bar :percent | elapsed: :elapsed | eta: :eta"</span>,</span></span>
<span class="r-in"><span>  clear <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  show_after <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## tell progressr to always report progress</span></span></span>
<span class="r-in"><span><span class="fu">progressr</span><span class="fu">::</span><span class="fu"><a href="https://progressr.futureverse.org/reference/handlers.html" class="external-link">handlers</a></span><span class="op">(</span>global <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## run the function and watch the live progress udpates</span></span></span>
<span class="r-in"><span><span class="va">feat_imp</span> <span class="op">&lt;-</span> <span class="fu">get_feature_importance</span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">trained_model</span>,</span></span>
<span class="r-in"><span>  <span class="va">results</span><span class="op">$</span><span class="va">trained_model</span><span class="op">$</span><span class="va">trainingData</span>,</span></span>
<span class="r-in"><span>  <span class="va">results</span><span class="op">$</span><span class="va">test_data</span>,</span></span>
<span class="r-in"><span>  <span class="st">"dx"</span>,</span></span>
<span class="r-in"><span>  <span class="va">multiClassSummary</span>,</span></span>
<span class="r-in"><span>  <span class="st">"AUC"</span>,</span></span>
<span class="r-in"><span>  class_probs <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"glmnet"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can specify any correlation method supported by `stats::cor`:</span></span></span>
<span class="r-in"><span><span class="va">feat_imp</span> <span class="op">&lt;-</span> <span class="fu">get_feature_importance</span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">trained_model</span>,</span></span>
<span class="r-in"><span>  <span class="va">results</span><span class="op">$</span><span class="va">trained_model</span><span class="op">$</span><span class="va">trainingData</span>,</span></span>
<span class="r-in"><span>  <span class="va">results</span><span class="op">$</span><span class="va">test_data</span>,</span></span>
<span class="r-in"><span>  <span class="st">"dx"</span>,</span></span>
<span class="r-in"><span>  <span class="va">multiClassSummary</span>,</span></span>
<span class="r-in"><span>  <span class="st">"AUC"</span>,</span></span>
<span class="r-in"><span>  class_probs <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"glmnet"</span>,</span></span>
<span class="r-in"><span>  corr_method <span class="op">=</span> <span class="st">"pearson"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/BTopcuoglu" class="external-link">Begüm Topçuoğlu</a>, <a href="https://github.com/zenalapp" class="external-link">Zena Lapp</a>, <a href="https://github.com/kelly-sovacool" class="external-link">Kelly Sovacool</a>, Evan Snitkin, Jenna Wiens, <a href="https://github.com/pschloss" class="external-link">Patrick Schloss</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

